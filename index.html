<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>DV Bank</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#00c46a">

<style>
*{box-sizing:border-box}
body{
 margin:0;
 font-family:system-ui,-apple-system,Segoe UI,Roboto;
 background:#f2f4f8;
 color:#111
}
.hidden{display:none}

/* HEADER */
header{
 background:linear-gradient(135deg,#00c46a,#00a85a);
 color:#fff;
 padding:24px;
 border-radius:0 0 28px 28px;
}
header h1{
 margin:0;
 font-size:26px;
 letter-spacing:.5px
}
header small{opacity:.85}

/* CONTAINER */
.container{
 max-width:420px;
 margin:auto;
 padding-bottom:40px
}

/* CARD */
.card{
 background:#fff;
 margin:16px;
 padding:16px;
 border-radius:18px;
 box-shadow:0 10px 25px rgba(0,0,0,.08)
}

/* BALANCE */
.balance{
 font-size:34px;
 font-weight:700;
 margin-top:6px
}
.sub{color:#666;font-size:14px}

/* BUTTONS */
button{
 width:100%;
 padding:14px;
 margin-top:10px;
 border:none;
 border-radius:14px;
 font-size:16px;
 font-weight:600;
 cursor:pointer
}
.green{background:#00c46a;color:#fff}
.red{background:#e74c3c;color:#fff}
.blue{background:#3498db;color:#fff}
.gray{background:#ecf0f1}

/* INPUT */
input{
 width:100%;
 padding:14px;
 margin-top:10px;
 border-radius:14px;
 border:1px solid #ddd;
 font-size:15px
}

/* TX */
.tx{
 border-bottom:1px solid #eee;
 padding:10px 0;
 font-size:14px
}
.tx:last-child{border:none}

/* ADMIN */
.admin-title{
 font-weight:700;
 margin-bottom:10px
}
.stat{
 display:flex;
 justify-content:space-between;
 padding:6px 0;
 font-size:14px
}
</style>
</head>

<body>

<header>
 <h1>DV Bank</h1>
 <small>Dijital CÃ¼zdan</small>
</header>

<div class="container">

<!-- LOGIN -->
<div id="loginBox" class="card">
 <h3>GiriÅŸ</h3>
 <input id="user" placeholder="KullanÄ±cÄ± adÄ±">
 <input id="pass" type="password" placeholder="Åžifre">
 <input id="pin" type="password" placeholder="PIN (4 hane)">
 <button class="green" onclick="login()">GiriÅŸ Yap</button>
</div>

<!-- WALLET -->
<div id="wallet" class="hidden">

<div class="card">
 <div class="sub">Toplam Bakiye</div>
 <div id="bal" class="balance">0 DV</div>
</div>

<div class="card">
 <input id="amt" type="number" placeholder="DV miktarÄ±">
 <button class="green" onclick="add()">Para Ekle</button>
 <button class="red" onclick="withdraw()">Para Ã‡ek</button>
</div>

<div class="card">
 <h4>Para GÃ¶nder</h4>
 <input id="to" placeholder="AlÄ±cÄ±">
 <input id="send" type="number" placeholder="DV">
 <button class="blue" onclick="transfer()">GÃ¶nder</button>
</div>

<div class="card">
 <h4>Ä°ÅŸlem GeÃ§miÅŸi</h4>
 <div id="log"></div>
</div>

<!-- ADMIN PANEL -->
<div id="adminBox" class="card hidden">
 <div class="admin-title">ðŸ‘® Admin Panel</div>

 <input id="mintUser" placeholder="KullanÄ±cÄ±">
 <input id="mintAmount" type="number" placeholder="BasÄ±lacak DV">
 <button class="green" onclick="mint()">Para Bas</button>

 <h4>Ä°statistik</h4>
 <div id="stats"></div>
</div>

<div class="card">
 <button class="gray" onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
</div>

</div>

<script>
let users = JSON.parse(localStorage.getItem("dv_users")) || {};
let current=null;

/* LOGIN */
function login(){
 let u=user.value,p=pass.value,pi=pin.value;
 if(!u||!p||pi.length<4) return alert("Eksik bilgi");

 if(!users[u]){
  users[u]={pass:p,pin:pi,balance:0,tx:[],isAdmin:false};
 }

 if(users[u].pass!==p||users[u].pin!==pi)
  return alert("HatalÄ± bilgi");

 if(u==="admin" && p==="DV-ADMIN"){
  users[u].isAdmin=true;
  users[u].balance=Infinity;
 }

 current=u;
 save();
 loginBox.classList.add("hidden");
 wallet.classList.remove("hidden");
 if(users[u].isAdmin) adminBox.classList.remove("hidden");
 render();
}

/* WALLET */
function add(){
 let a=+amt.value;if(a<=0)return;
 if(!users[current].isAdmin) users[current].balance+=a;
 tx("Para Eklendi",a);
}
function withdraw(){
 if(users[current].isAdmin) return alert("Admin bakiyesi sÄ±nÄ±rsÄ±z");
 let a=+prompt("Ã‡ekilecek DV:");
 if(!a||a>users[current].balance)return;
 users[current].balance-=a;
 tx("Para Ã‡ekildi",a);
}
function transfer(){
 let t=to.value,a=+send.value;
 if(!users[t]||!a)return alert("HatalÄ±");
 if(!users[current].isAdmin && a>users[current].balance)
  return alert("Yetersiz bakiye");
 if(!users[current].isAdmin) users[current].balance-=a;
 users[t].balance+=a;
 tx("GÃ¶nderildi â†’ "+t,a);
}

/* ADMIN */
function mint(){
 let u=mintUser.value,a=+mintAmount.value;
 if(!users[u]||a<=0)return alert("HatalÄ±");
 users[u].balance+=a;
 tx("Admin para bastÄ± â†’ "+u,a);
}

/* TX */
function tx(type,amt){
 users[current].tx.unshift({
  type,amt,time:new Date().toLocaleString()
 });
 save();render();
}

/* UI */
function render(){
 bal.innerText = users[current].isAdmin ? "âˆž DV" : users[current].balance+" DV";
 log.innerHTML = users[current].tx.map(t=>
  `<div class="tx"><b>${t.type}</b><br>
  ${t.amt} DV<br><small>${t.time}</small></div>`
 ).join("");

 if(users[current].isAdmin){
  let total=0,rich="",max=0;
  for(let u in users){
   if(!users[u].isAdmin){
    total+=users[u].balance;
    if(users[u].balance>max){max=users[u].balance;rich=u;}
   }
  }
  stats.innerHTML=`
   <div class="stat"><span>KullanÄ±cÄ±</span><b>${Object.keys(users).length}</b></div>
   <div class="stat"><span>Toplam DV</span><b>${total}</b></div>
   <div class="stat"><span>En Zengin</span><b>${rich}</b></div>
  `;
 }
}

function save(){
 localStorage.setItem("dv_users",JSON.stringify(users));
}
function logout(){location.reload();}
</script>

</body>
</html>
